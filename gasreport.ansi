yarn run v1.22.10
$ FOUNDRY_PROFILE=dev forge test -vvv --gas-report
No files changed, compilation skipped

Running 2 tests for test/invariants/BasicInvariants.sol:BasicInvariants
[32m[PASS][0m invariantIssuedCoherent() (runs: 10, calls: 300, reverts: 47)
[32m[PASS][0m invariantSystemState() (runs: 10, calls: 300, reverts: 47)
Logs:
  
  SYSTEM STATE
  
  Calls summary:
  -------------------
  swap 8
  oracle 12
  -------------------
  
  Issued A:  608305872599113581159945815715994581
  Issued B:  7932000000000000000000
  Issued Y:  9900990096019600990099009900990099
  Issued Total:  618206862695141114150044825616984680

Test result: [32mok[0m. 2 passed; 0 failed; finished in 11.79s

Running 7 tests for test/units/Transmuter.t.sol:TestTransmuter
[32m[PASS][0m testFacetsHaveCorrectSelectors() (gas: 1217547)
[32m[PASS][0m testInterfaceCorrectlyImplemented() (gas: 956136)
[32m[PASS][0m testQuoteCollateralRatio() (gas: 323865)
[32m[PASS][0m testQuoteCollateralRatioDirectCall() (gas: 5654)
[32m[PASS][0m testQuoteInScenario() (gas: 115055)
[32m[PASS][0m testSelectorsAssociatedWithCorrectFacet() (gas: 1045403)
[32m[PASS][0m testSimpleSwapInScenario() (gas: 331990)
Test result: [32mok[0m. 7 passed; 0 failed; finished in 23.86s

Running 4 tests for test/fuzz/SwapTest.test.sol:SwapTest
[32m[PASS][0m testSwapRevertDeadline(uint256[3],uint256,uint256[3],uint256,uint256,uint256,uint256,uint256) (runs: 10000, Î¼: 1321939, ~: 1381398)
[32m[PASS][0m testSwapRevertInvalidTokens(uint256[3],uint256,uint256[3],uint256,uint256) (runs: 10000, Î¼: 4161138, ~: 4164430)
[32m[PASS][0m testSwapRevertPaused(uint256[3],uint256,uint256[3],uint256,uint256) (runs: 10000, Î¼: 1256293, ~: 1261648)
[32m[PASS][0m testSwapRevertSlippage(uint256[3],uint256,uint256[3],uint256,uint256,uint256,uint256) (runs: 10000, Î¼: 1339547, ~: 1399808)
Test result: [32mok[0m. 4 passed; 0 failed; finished in 110.74s

Running 12 tests for test/fuzz/MintTest.test.sol:MintTest
[32m[PASS][0m testMintExactInput(uint256[3],uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1592735, ~: 1603739)
[32m[PASS][0m testMintExactOutput(uint256[3],uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1594535, ~: 1604621)
[32m[PASS][0m testQuoteMintExactInputIndependant(uint256[3],uint256,uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1632787, ~: 1645467)
[32m[PASS][0m testQuoteMintExactInputNonNullFees(uint256[3],uint256,int64,uint256,uint256) (runs: 10000, Î¼: 973947, ~: 980185)
[32m[PASS][0m testQuoteMintExactInputReflexivityFees(uint256[3],uint256,int64,uint256,uint256) (runs: 10000, Î¼: 994398, ~: 1000641)
[32m[PASS][0m testQuoteMintExactInputReflexivityOracleFees(uint256[3],uint256,uint256[3],int64,uint256,uint256) (runs: 10000, Î¼: 1287203, ~: 1293227)
[32m[PASS][0m testQuoteMintExactInputSimple(uint256[3],uint256,uint256,uint256) (runs: 10000, Î¼: 926385, ~: 932076)
[32m[PASS][0m testQuoteMintExactOutputIndependant(uint256[3],uint256,uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1631097, ~: 1643180)
[32m[PASS][0m testQuoteMintExactOutputReflexivityFixPiecewiseFees(uint256[3],uint256,uint256[3],int64,uint256,uint256) (runs: 10000, Î¼: 1311104, ~: 1330875)
[32m[PASS][0m testQuoteMintReflexivityRandPiecewiseFees(uint256[3],uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1401841, ~: 1406063)
[32m[PASS][0m testQuoteMintReflexivityRandomOracle(uint256[3],uint256,uint256[3],uint256,uint256) (runs: 10000, Î¼: 1239311, ~: 1244983)
[32m[PASS][0m testQuoteMintReflexivitySimple(uint256[3],uint256,uint256,uint256) (runs: 10000, Î¼: 944015, ~: 949584)
Test result: [32mok[0m. 12 passed; 0 failed; finished in 162.78s

Running 13 tests for test/fuzz/BurnTest.test.sol:BurnTest
[32m[PASS][0m testBurnExactInput(uint256[3],uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1381015, ~: 1374411)
[32m[PASS][0m testBurnExactOutput(uint256[3],uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1372340, ~: 1363475)
[32m[PASS][0m testQuoteBurnExactInputIndependant(uint256[3],uint256,uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1459946, ~: 1459300)
[32m[PASS][0m testQuoteBurnExactInputNonNullFees(uint256[3],uint256,int64,uint256,uint256) (runs: 10000, Î¼: 993323, ~: 999469)
[32m[PASS][0m testQuoteBurnExactInputReflexivityFees(uint256[3],uint256,int64,uint256,uint256) (runs: 10000, Î¼: 1032601, ~: 1038672)
[32m[PASS][0m testQuoteBurnExactInputReflexivityFixPiecewiseFees(uint256[3],uint256,uint256[3],int64,uint256,uint256) (runs: 10000, Î¼: 1282815, ~: 1263160)
[32m[PASS][0m testQuoteBurnExactInputReflexivityOracleFees(uint256[3],uint256,uint256[3],int64,uint256,uint256) (runs: 10000, Î¼: 1331680, ~: 1336499)
[32m[PASS][0m testQuoteBurnExactInputSimple(uint256[3],uint256,uint256,uint256) (runs: 10000, Î¼: 952300, ~: 957749)
[32m[PASS][0m testQuoteBurnExactOutputIndependant(uint256[3],uint256,uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1416541, ~: 1408025)
[32m[PASS][0m testQuoteBurnReflexivityRandOracleAndPiecewiseFees(uint256[3],uint256,uint256[3],uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1388360, ~: 1390369)
[32m[PASS][0m testQuoteBurnReflexivityRandPiecewiseFees(uint256[3],uint256,uint64[10],int64[10],uint256,uint256) (runs: 10000, Î¼: 1101176, ~: 1109578)
[32m[PASS][0m testQuoteBurnReflexivityRandomOracle(uint256[3],uint256,uint256[3],uint256,uint256) (runs: 10000, Î¼: 1290329, ~: 1295361)
[32m[PASS][0m testQuoteBurnReflexivitySimple(uint256[3],uint256,uint256,uint256) (runs: 10000, Î¼: 991525, ~: 998334)
Test result: [32mok[0m. 13 passed; 0 failed; finished in 162.78s

Running 11 tests for test/fuzz/RedeemTest.t.sol:RedeemTest
[32m[PASS][0m testMultiForfeitRedemptionCurveWithManagerRandomRedemptionFees(uint256[3],uint256[3],bool[3],uint256[30],uint256[30],uint256[30],bool[33],uint256,uint256,uint256[3],uint64[10],int64[10]) (runs: 10000, Î¼: 47722145, ~: 47945163)
[32m[PASS][0m testMultiRedemptionCurveRandomRedemptionFees(uint256[3],uint256,uint256,uint256[3],uint64[10],int64[10]) (runs: 10000, Î¼: 1809622, ~: 1808057)
[32m[PASS][0m testMultiRedemptionCurveWithManagerRandomRedemptionFees(uint256[3],uint256[3],bool[3],uint256[30],uint256[30],uint256[30],uint256,uint256,uint256[3],uint64[10],int64[10]) (runs: 10000, Î¼: 47885415, ~: 48024571)
[32m[PASS][0m testQuoteRedeemAllAtPeg(uint256[3],uint256) (runs: 10000, Î¼: 850344, ~: 850355)
[32m[PASS][0m testQuoteRedeemAtPegRandomFees(uint256[3],uint256,uint64[10],int64[10]) (runs: 10000, Î¼: 1088390, ~: 1091616)
[32m[PASS][0m testQuoteRedeemGlobalAtPeg(uint256[3],uint256,uint256[2]) (runs: 10000, Î¼: 1139287, ~: 1105135)
[32m[PASS][0m testQuoteRedeemRandomFees(uint256[3],uint256,uint256[3],uint64[10],int64[10]) (runs: 10000, Î¼: 1432551, ~: 1432315)
[32m[PASS][0m testQuoteRedeemRandomOracles(uint256[3],uint256,uint256[3]) (runs: 10000, Î¼: 1339185, ~: 1342876)
[32m[PASS][0m testQuoteRedemptionCurveWithManagerRandomRedemptionFees(uint256[3],uint256[3],bool[3],uint256[30],uint256,uint256[30],uint256[30],uint256[3],uint64[10],int64[10]) (runs: 10000, Î¼: 45726730, ~: 46087667)
[32m[PASS][0m testRedeemAllAtPeg(uint256[3],uint256) (runs: 10000, Î¼: 1128969, ~: 1142402)
[32m[PASS][0m testRedeemRandomFees(uint256[3],uint256,uint256[3],uint64[10],int64[10]) (runs: 10000, Î¼: 1566683, ~: 1563173)
Test result: [32mok[0m. 11 passed; 0 failed; finished in 252.95s
| contracts/transmuter/DiamondProxy.sol:DiamondProxy contract |                 |        |        |        |         |
|-------------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                             | Deployment Size |        |        |        |         |
| 3705750                                                     | 10012           |        |        |        |         |
| Function Name                                               | min             | avg    | median | max    | # calls |
| facetAddress                                                | 1036            | 3103   | 3036   | 7536   | 37      |
| facetFunctionSelectors                                      | 30759           | 44615  | 31609  | 119259 | 7       |
| getCollateralRatio                                          | 69400           | 142247 | 74951  | 318534 | 9       |
| getIssuedByCollateral                                       | 1697            | 3411   | 1697   | 10197  | 35      |
| isValidSelector                                             | 976             | 3043   | 2976   | 7476   | 37      |
| quoteIn                                                     | 20846           | 41336  | 45363  | 105355 | 27      |
| quoteOut                                                    | 20664           | 33642  | 26843  | 57254  | 20      |
| quoteRedemptionCurve                                        | 64114           | 120915 | 69318  | 219054 | 13      |
| redeem                                                      | 89306           | 327304 | 135574 | 757553 | 7       |
| redeemWithForfeit                                           | 682290          | 682290 | 682290 | 682290 | 1       |
| setCollateralManager                                        | 172739          | 252190 | 229210 | 354622 | 9       |
| setFees                                                     | 10292           | 15567  | 10384  | 149702 | 259     |
| setRedemptionCurveParams                                    | 26434           | 72970  | 79334  | 79334  | 47      |
| swapExactInput                                              | 1653            | 115152 | 108508 | 157396 | 133     |
| swapExactOutput                                             | 3719            | 34293  | 33317  | 87916  | 12      |
| togglePause                                                 | 4636            | 11122  | 11122  | 17609  | 2       |


| contracts/transmuter/configs/Test.sol:Test contract |                 |         |         |         |         |
|-----------------------------------------------------|-----------------|---------|---------|---------|---------|
| Deployment Cost                                     | Deployment Size |         |         |         |         |
| 2634854                                             | 13192           |         |         |         |         |
| Function Name                                       | min             | avg     | median  | max     | # calls |
| initialize                                          | 1951787         | 1951787 | 1951787 | 1951787 | 49      |


| contracts/transmuter/facets/DiamondLoupe.sol:DiamondLoupe contract |                 |       |        |        |         |
|--------------------------------------------------------------------|-----------------|-------|--------|--------|---------|
| Deployment Cost                                                    | Deployment Size |       |        |        |         |
| 509743                                                             | 2578            |       |        |        |         |
| Function Name                                                      | min             | avg   | median | max    | # calls |
| facetAddress                                                       | 591             | 2536  | 2591   | 2591   | 37      |
| facetFunctionSelectors                                             | 30305           | 43493 | 31137  | 114305 | 7       |


| contracts/transmuter/facets/Getters.sol:Getters contract |                 |        |        |        |         |
|----------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                          | Deployment Size |        |        |        |         |
| 1987105                                                  | 9957            |        |        |        |         |
| Function Name                                            | min             | avg    | median | max    | # calls |
| getCollateralRatio                                       | 64455           | 137302 | 70006  | 313589 | 9       |
| getIssuedByCollateral                                    | 1249            | 1706   | 1249   | 5249   | 35      |
| isValidSelector                                          | 531             | 2476   | 2531   | 2531   | 37      |


| contracts/transmuter/facets/Redeemer.sol:Redeemer contract |                 |        |        |        |         |
|------------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                            | Deployment Size |        |        |        |         |
| 2473865                                                    | 12388           |        |        |        |         |
| Function Name                                              | min             | avg    | median | max    | # calls |
| quoteRedemptionCurve                                       | 60246           | 116901 | 64322  | 213956 | 13      |
| redeem                                                     | 86789           | 325280 | 133057 | 754823 | 7       |
| redeemWithForfeit                                          | 679548          | 679548 | 679548 | 679548 | 1       |


| contracts/transmuter/facets/Setters.sol:Setters contract |                 |        |        |        |         |
|----------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                          | Deployment Size |        |        |        |         |
| 3345323                                                  | 16740           |        |        |        |         |
| Function Name                                            | min             | avg    | median | max    | # calls |
| setCollateralManager                                     | 172231          | 250162 | 224190 | 354065 | 9       |
| setFees                                                  | 9904            | 14840  | 9997   | 144621 | 259     |
| setRedemptionCurveParams                                 | 23962           | 71987  | 78862  | 78862  | 47      |
| togglePause                                              | 4188            | 8424   | 8424   | 12661  | 2       |


| contracts/transmuter/facets/Swapper.sol:Swapper contract |                 |        |        |        |         |
|----------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                          | Deployment Size |        |        |        |         |
| 2984671                                                  | 14939           |        |        |        |         |
| Function Name                                            | min             | avg    | median | max    | # calls |
| quoteIn                                                  | 18389           | 39082  | 42906  | 100398 | 27      |
| quoteOut                                                 | 18207           | 31585  | 26245  | 54797  | 20      |
| swapExactInput                                           | 1177            | 113630 | 108128 | 153416 | 133     |
| swapExactOutput                                          | 1243            | 31899  | 30841  | 85441  | 12      |


| test/invariants/BasicInvariants.sol:BasicInvariants contract |                 |       |        |       |         |
|--------------------------------------------------------------|-----------------|-------|--------|-------|---------|
| Deployment Cost                                              | Deployment Size |       |        |       |         |
| 25170803                                                     | 125428          |       |        |       |         |
| Function Name                                                | min             | avg   | median | max   | # calls |
| invariantIssuedCoherent                                      | 30393           | 30393 | 30393  | 30393 | 1       |
| invariantSystemState                                         | 45838           | 45838 | 45838  | 45838 | 1       |


| test/mock/MockAccessControlManager.sol:MockAccessControlManager contract |                 |       |        |       |         |
|--------------------------------------------------------------------------|-----------------|-------|--------|-------|---------|
| Deployment Cost                                                          | Deployment Size |       |        |       |         |
| 111159                                                                   | 587             |       |        |       |         |
| Function Name                                                            | min             | avg   | median | max   | # calls |
| isGovernor                                                               | 549             | 1215  | 549    | 2549  | 9       |
| isGovernorOrGuardian                                                     | 765             | 1355  | 765    | 4765  | 308     |
| toggleGovernor                                                           | 22481           | 22481 | 22481  | 22481 | 49      |
| toggleGuardian                                                           | 22523           | 22523 | 22523  | 22523 | 49      |


| test/mock/MockChainlinkOracle.sol:MockChainlinkOracle contract |                 |        |        |        |         |
|----------------------------------------------------------------|-----------------|--------|--------|--------|---------|
| Deployment Cost                                                | Deployment Size |        |        |        |         |
| 658519                                                         | 3326            |        |        |        |         |
| Function Name                                                  | min             | avg    | median | max    | # calls |
| latestRoundData                                                | 1609            | 4606   | 1609   | 15609  | 708     |
| setLatestAnswer                                                | 114472          | 126295 | 131572 | 131572 | 269     |


| test/mock/MockManager.sol:MockManager contract |                 |        |        |         |         |
|------------------------------------------------|-----------------|--------|--------|---------|---------|
| Deployment Cost                                | Deployment Size |        |        |         |         |
| 948311                                         | 4804            |        |        |         |         |
| Function Name                                  | min             | avg    | median | max     | # calls |
| getUnderlyingBalances                          | 14235           | 37400  | 30353  | 71782   | 36      |
| setSubCollaterals                              | 445720          | 890099 | 712347 | 1512233 | 9       |
| transfer                                       | 24691           | 26195  | 25781  | 29051   | 50      |


| test/mock/MockTokenPermit.sol:MockTokenPermit contract |                 |       |        |       |         |
|--------------------------------------------------------|-----------------|-------|--------|-------|---------|
| Deployment Cost                                        | Deployment Size |       |        |       |         |
| 1463994                                                | 8240            |       |        |       |         |
| Function Name                                          | min             | avg   | median | max   | # calls |
| approve                                                | 4768            | 23553 | 24668  | 24668 | 125     |
| balanceOf                                              | 624             | 1116  | 624    | 2624  | 946     |
| burnSelf                                               | 3875            | 4403  | 4843   | 4843  | 11      |
| decimals                                               | 379             | 535   | 379    | 2379  | 397     |
| mint                                                   | 4808            | 19524 | 4808   | 48608 | 125     |
| name                                                   | 1241            | 1702  | 1241   | 3241  | 39      |
| symbol                                                 | 1261            | 1722  | 1261   | 3261  | 39      |
| transfer                                               | 3274            | 15024 | 23174  | 25174 | 170     |
| transferFrom                                           | 2984            | 21628 | 22283  | 22283 | 118     |



Done in 254.07s.
